(this["webpackJsonpreact_people-table-basics"]=this["webpackJsonpreact_people-table-basics"]||[]).push([[0],{33:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(22),a=n(7),s=n(2),r=(n(31),n(32),n(33),n(11)),i=n.n(r),l=n(3),o=function(){var e=function(e){var t=e.isActive;return i()("navbar-item",{"has-background-grey-lighter":t})};return Object(l.jsxs)("div",{"data-cy":"app",children:[Object(l.jsx)("nav",{"data-cy":"nav",className:"navbar is-fixed-top has-shadow",role:"navigation","aria-label":"main navigation",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"navbar-brand",children:[Object(l.jsx)(a.b,{className:e,to:"/",children:"Home"}),Object(l.jsx)(a.b,{className:e,to:"/people",children:"People"})]})})}),Object(l.jsx)("main",{className:"section",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)(s.b,{})})})]})},j=n(4),d=n(0),h={peoples:[],setPeoples:function(){},hasError:!1,setHasError:function(){},isLoading:!1,setIsLoading:function(){}},b=n.n(d).a.createContext(h),u=function(e){var t=e.children,n=Object(d.useState)([]),c=Object(j.a)(n,2),a=c[0],s=c[1],r=Object(d.useState)(!1),i=Object(j.a)(r,2),o=i[0],h=i[1],u=Object(d.useState)(!1),x=Object(j.a)(u,2),O={peoples:a,setPeoples:s,hasError:o,setHasError:h,isLoading:x[0],setIsLoading:x[1]};return Object(l.jsx)(b.Provider,{value:O,children:t})},x=function(){return Object(l.jsx)("h1",{className:"title",children:"Home Page"})};function O(e){var t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c={method:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET"};return n&&(c.body=JSON.stringify(n),c.headers={"Content-Type":"application/json; charset=UTF-8"}),(t=300,new Promise((function(e){setTimeout(e,t)}))).then((function(){return fetch("https://mate-academy.github.io/react_people-table/api/"+e,c)})).then((function(e){return e.json()}))}var m=function(e){return O(e)},p=(n(35),function(){return Object(l.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(l.jsx)("div",{className:"Loader__content"})})}),f=function(){var e=Object(d.useContext)(b),t=e.peoples,n=e.setPeoples,c=e.hasError,r=e.setHasError,o=e.isLoading,j=e.setIsLoading,h=Object(s.r)().slug,u=function(e,t,n){return t.find((function(t){return t.name===("f"===n?e.motherName:e.fatherName)}))?t.map((function(t){return t.name===("f"===n?e.motherName:e.fatherName)?Object(l.jsx)("td",{children:Object(l.jsx)(a.b,{to:"".concat(t.slug),className:i()({"has-text-danger":"f"===n}),children:t.name})},t.slug):null})):"f"===n?Object(l.jsx)("td",{children:e.motherName?e.motherName:"-"}):Object(l.jsx)("td",{children:e.fatherName?e.fatherName:"-"})};return Object(d.useEffect)((function(){j(!0),m("people.json").then((function(e){Array.isArray(e)?n(e):r(!0)})).catch((function(){r(!0)})).finally((function(){j(!1)}))}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{className:"title",children:"People Page"}),Object(l.jsx)("div",{className:"block",children:Object(l.jsxs)("div",{className:"box table-container",children:[o&&Object(l.jsx)(p,{}),c&&Object(l.jsx)("p",{"data-cy":"peopleLoadingError",className:"has-text-danger",children:"Something went wrong"}),0===(null===t||void 0===t?void 0:t.length)&&!c&&Object(l.jsx)("p",{"data-cy":"noPeopleMessage",children:"There are no people on the server"}),!o&&Object(l.jsxs)("table",{"data-cy":"peopleTable",className:"table is-striped is-hoverable is-narrow is-fullwidth",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Sex"}),Object(l.jsx)("th",{children:"Born"}),Object(l.jsx)("th",{children:"Died"}),Object(l.jsx)("th",{children:"Mother"}),Object(l.jsx)("th",{children:"Father"})]})}),Object(l.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((function(e){var n=h===e.slug;return Object(l.jsxs)("tr",{"data-cy":"person",className:i()({"has-background-warning":n}),children:[Object(l.jsx)("td",{children:Object(l.jsx)(a.b,{to:"".concat(e.slug),className:i()({"has-text-danger":"f"===e.sex}),children:e.name})}),Object(l.jsx)("td",{children:e.sex}),Object(l.jsx)("td",{children:e.born}),Object(l.jsx)("td",{children:e.died}),u(e,t,"f"),u(e,t,"m")]},e.slug)}))})]})]})})]})},g=function(){return Object(l.jsx)("h1",{className:"title",children:"Page not found"})};Object(c.createRoot)(document.getElementById("root")).render(Object(l.jsx)(a.a,{children:Object(l.jsx)(u,{children:Object(l.jsx)(s.e,{children:Object(l.jsxs)(s.c,{path:"/",element:Object(l.jsx)(o,{}),children:[Object(l.jsx)(s.c,{index:!0,element:Object(l.jsx)(x,{})}),Object(l.jsx)(s.c,{path:"/home",element:Object(l.jsx)(s.a,{to:"/",replace:!0})}),Object(l.jsx)(s.c,{path:"/people",element:Object(l.jsx)(f,{}),children:Object(l.jsx)(s.c,{path:":slug",element:Object(l.jsx)(f,{})})}),Object(l.jsx)(s.c,{path:"*",element:Object(l.jsx)(g,{})})]})})})}))}},[[36,1,2]]]);
//# sourceMappingURL=main.306e88d2.chunk.js.map